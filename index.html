<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Orpington Judging</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />

  <style>
    html, body { margin:0; padding:0; height:100%; overflow:hidden; }
    .btn-yellow {
      padding:22px 36px; font-size:22px; font-weight:700;
      border-radius:14px; background:#facc15; color:#1e3a8a;
      border:none; cursor:pointer; box-shadow:0 6px 15px rgba(0,0,0,0.35);
    }
    .btn-white {
      padding:22px 36px; font-size:22px; font-weight:700;
      border-radius:14px; background:#ffffff; color:#1e3a8a;
      border:none; cursor:pointer; box-shadow:0 6px 15px rgba(0,0,0,0.25);
    }
    .screen-blue {
      text-align:center; padding:40px 20px; height:100vh;
      background:#1e3a8a; color:white;
      align-items:center; justify-content:center; flex-direction:column;
      overflow:hidden;
    }
    .grid-wrap {
      display:flex; flex-wrap:wrap; gap:14px; justify-content:center;
      width:min(760px, 95%);
    }
    .pill {
      padding:18px 22px; font-size:20px; font-weight:800;
      border-radius:14px; background:#facc15; color:#1e3a8a;
      border:none; cursor:pointer;
    }
    .judge-input {
      width:min(520px, 90%);
      padding:16px 14px; font-size:18px;
      border-radius:12px; border:none; outline:none;
      margin-bottom:22px;
    }
    .subline { margin-top:-6px; font-size:16px; }
    .muted { opacity:0.9; }
    .score-help { font-size:14px; opacity:0.85; margin-top:-10px; margin-bottom:10px; }
    .score-row { margin-bottom:16px; }
    .score-row label { display:block; font-weight:700; margin-bottom:6px; }
    .score-row input[type="range"] { width:100%; }
    .score-max { font-size:14px; opacity:0.85; }
  </style>
</head>

<body>

  <!-- ‚úÖ INTRO SCREEN -->
  <div id="introScreen"
       class="screen-blue"
       style="display:flex;">
    <h1 style="font-size:42px; font-weight:800; margin-bottom:24px;">
      Orpington Show Judging
    </h1>

    <img src="orpington.png"
         alt="Orpington"
         style="
           max-width:70%;
           border-radius:18px;
           margin-bottom:30px;
           box-shadow:0 10px 25px rgba(0,0,0,0.4);
         ">

    <button class="btn-yellow" onclick="startApp()">Start Judging</button>
  </div>

  <!-- ‚úÖ SHOW SELECTION SCREEN -->
  <div id="showScreen" class="screen-blue" style="display:none;">
    <h1 style="font-size:34px; font-weight:800; margin-bottom:22px;">Select Show</h1>

    <select id="showSelect" class="judge-input">
      <option value="">-- Choose a show --</option>
      <option value="AvioMed Young Chicken Show 2026">AvioMed Young Chicken Show 2026</option>
      <option value="AvioMed Nationals 2026">AvioMed Nationals 2026</option>
      <option value="AvioMed Orpington Show 2026">AvioMed Orpington Show 2026</option>
    </select>

    <button class="btn-yellow" onclick="saveShowAndContinue()">Next</button>
  </div>

  <!-- ‚úÖ JUDGE NAME SCREEN -->
  <div id="judgeScreen" class="screen-blue" style="display:none;">
    <h1 style="font-size:34px; font-weight:800; margin-bottom:22px;">Judge Name</h1>

    <input id="judgeName" class="judge-input" type="text" placeholder="Enter judge name">

    <button class="btn-yellow" onclick="saveJudgeAndContinue()">Next</button>
  </div>

  <!-- ‚úÖ CLASS SCREEN -->
  <div id="classScreen" class="screen-blue" style="display:none;">
    <h1 style="font-size:34px; font-weight:800; margin-bottom:22px;">Select Class</h1>

    <div class="grid-wrap">
      <button class="pill" onclick="selectClass('PULLET')">Pullet</button>
      <button class="pill" onclick="selectClass('COCKEREL')">Cockerel</button>
      <button class="pill" onclick="selectClass('HEN')">Hen</button>
      <button class="pill" onclick="selectClass('COCK')">Cock</button>
    </div>

    <p style="margin-top:18px; font-size:18px;">
      Selected: <strong><span id="classSelectedDisplay">None</span></strong>
    </p>

    <button class="btn-white" onclick="saveClassAndContinue()">Next</button>
  </div>

  <!-- ‚úÖ COLOUR SCREEN -->
  <div id="colourScreen" class="screen-blue" style="display:none;">
    <h1 style="font-size:34px; font-weight:800; margin-bottom:22px;">Select Colour</h1>

    <div class="grid-wrap">
      <button class="pill" onclick="selectColour('BLACK')">Black</button>
      <button class="pill" onclick="selectColour('BLUE')">Blue</button>
      <button class="pill" onclick="selectColour('BUFF')">Buff</button>
      <button class="pill" onclick="selectColour('WHITE')">White</button>
      <button class="pill" onclick="selectColour('SPLASH')">Splash</button>
      <button class="pill" onclick="selectColour('CHOCOLATE')">Chocolate</button>
      <button class="pill" onclick="selectColour('LAVENDER')">Lavender</button>
      <button class="pill" onclick="selectColour('JUBILEE')">Jubilee</button>

      <button class="pill" onclick="selectColour('CUCKOO')">Cuckoo</button>
      <button class="pill" onclick="selectColour('PARTRIDGE')">Partridge</button>
      <button class="pill" onclick="selectColour('SILVER_LACED')">Silver Laced</button>
      <button class="pill" onclick="selectColour('GOLD_LACED')">Gold Laced</button>

      <button class="pill" onclick="selectColour('RED')">Red</button>
      <button class="pill" onclick="selectColour('ISABEL')">Isabel</button>
      <button class="pill" onclick="selectColour('CRELE')">Crele</button>
    </div>

    <p style="margin-top:18px; font-size:18px;">
      Selected: <strong><span id="colourSelectedDisplay">None</span></strong>
    </p>

    <button class="btn-white" onclick="saveColourAndContinue()">Start Judging</button>
  </div>

  <!-- ‚úÖ JUDGING SCREEN -->
  <div id="judgingScreen"
       style="display:none; height:100vh; overflow:auto; padding:20px; background:#ffffff;">

    <h1>üêî Orpington Judging</h1>

    <p class="subline">Show: <strong><span id="showNameDisplay">Not selected</span></strong></p>
    <p class="subline">Judge: <strong><span id="judgeNameDisplay">Not selected</span></strong></p>
    <p class="subline">Class: <strong><span id="classNameDisplay">Not selected</span></strong></p>
    <p class="subline">Colour: <strong><span id="colourNameDisplay">Not selected</span></strong></p>

    <div class="card">
      <label>Bird ID</label>
      <input type="text" id="birdId">

      <!-- ‚úÖ Dynamic scoring template renders here -->
      <div style="margin-top:14px;">
        <h2 style="margin-bottom:6px;">Scoring</h2>
        <div id="templateName" class="muted" style="margin-bottom:12px;"></div>
        <div id="scoringContainer"></div>
      </div>

      <h2 style="margin-top:18px;">Total: <span id="total">0</span></h2>

      <button onclick="saveBird()">Save Bird</button>
      <button onclick="showResults()">View Results</button>
      <button onclick="resetShow()">New Show</button>
      <button onclick="exportCSV()">Export Results</button>

      <div id="results" style="display:none; margin-top:20px;"></div>
    </div>
  </div>

  <!-- ‚úÖ cache-bust for phone updates -->
  <script src="app.js?v=8"></script>
</body>
</html>
